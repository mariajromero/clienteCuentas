{
	"info": {
		"_postman_id": "cuenta-microservice-collection",
		"name": "Cuenta Microservice API",
		"description": "Colección de endpoints para el microservicio de Cuentas y Movimientos",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Cuentas",
			"item": [
				{
					"name": "Crear Cuenta",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"tipoCuenta\": \"Ahorros\",\n  \"saldoInicial\": 1000.00,\n  \"estado\": \"Activa\",\n  \"clienteId\": \"1\"\n}"
						},
						"url": {
							"raw": "http://localhost:8081/cuentas",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8081",
							"path": [
								"cuentas"
							]
						},
						"description": "Crea una nueva cuenta asociada a un cliente"
					},
					"response": []
				},
				{
					"name": "Obtener Todas las Cuentas",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8081/cuentas",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8081",
							"path": [
								"cuentas"
							]
						},
						"description": "Obtiene todas las cuentas registradas"
					},
					"response": []
				},
				{
					"name": "Obtener Cuenta por ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8081/cuentas/:id",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8081",
							"path": [
								"cuentas",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						},
						"description": "Obtiene una cuenta específica por su número de cuenta"
					},
					"response": []
				},
				{
					"name": "Obtener Cuentas por Cliente",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8081/cuentas/cliente/:clienteId",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8081",
							"path": [
								"cuentas",
								"cliente",
								":clienteId"
							],
							"variable": [
								{
									"key": "clienteId",
									"value": "1"
								}
							]
						},
						"description": "Obtiene todas las cuentas de un cliente específico"
					},
					"response": []
				},
				{
					"name": "Obtener IDs de Cuentas por Cliente",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8081/cuentas/cliente/:clienteId/ids",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8081",
							"path": [
								"cuentas",
								"cliente",
								":clienteId",
								"ids"
							],
							"variable": [
								{
									"key": "clienteId",
									"value": "1"
								}
							]
						},
						"description": "Obtiene solo los IDs de las cuentas de un cliente"
					},
					"response": []
				},
				{
					"name": "Actualizar Cuenta",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"tipoCuenta\": \"Corriente\",\n  \"saldoInicial\": 2500.00,\n  \"estado\": \"Activa\",\n  \"clienteId\": \"1\"\n}"
						},
						"url": {
							"raw": "http://localhost:8081/cuentas/:id",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8081",
							"path": [
								"cuentas",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						},
						"description": "Actualiza los datos de una cuenta existente"
					},
					"response": []
				}
			]
		},
		{
			"name": "Movimientos",
			"item": [
				{
					"name": "Crear Movimiento",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"fechaMovimiento\": \"2024-11-13T10:30:00\",\n  \"tipoMovimiento\": \"Depósito\",\n  \"valor\": 500.00,\n  \"cuenta\": {\n    \"numeroCuenta\": 1\n  }\n}"
						},
						"url": {
							"raw": "http://localhost:8081/movimientos",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8081",
							"path": [
								"movimientos"
							]
						},
						"description": "Crea un nuevo movimiento. El valor puede ser positivo (depósito) o negativo (retiro). Actualiza automáticamente el saldo de la cuenta."
					},
					"response": []
				},
				{
					"name": "Crear Movimiento - Retiro",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"tipoMovimiento\": \"Retiro\",\n  \"valor\": -200.00,\n  \"cuenta\": {\n    \"numeroCuenta\": 1\n  }\n}"
						},
						"url": {
							"raw": "http://localhost:8081/movimientos",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8081",
							"path": [
								"movimientos"
							]
						},
						"description": "Crea un movimiento de retiro (valor negativo). Si el saldo resultante es negativo, devuelve error 'Saldo no disponible'"
					},
					"response": []
				},
				{
					"name": "Obtener Todos los Movimientos",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8081/movimientos",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8081",
							"path": [
								"movimientos"
							]
						},
						"description": "Obtiene todos los movimientos registrados"
					},
					"response": []
				},
				{
					"name": "Obtener Movimiento por ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8081/movimientos/:id",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8081",
							"path": [
								"movimientos",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						},
						"description": "Obtiene un movimiento específico por su número"
					},
					"response": []
				},
				{
					"name": "Actualizar Movimiento",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"fechaMovimiento\": \"2024-11-13T15:00:00\",\n  \"tipoMovimiento\": \"Depósito\",\n  \"valor\": 300.00\n}"
						},
						"url": {
							"raw": "http://localhost:8081/movimientos/:id",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8081",
							"path": [
								"movimientos",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						},
						"description": "Actualiza un movimiento existente. Recalcula automáticamente el saldo de la cuenta."
					},
					"response": []
				}
			]
		},
		{
			"name": "Reportes",
			"item": [
				{
					"name": "Generar Reporte de Estado de Cuenta",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8081/reportes?fecha=2024-01-01,2024-12-31&clienteId=1",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8081",
							"path": [
								"reportes"
							],
							"query": [
								{
									"key": "fecha",
									"value": "2024-01-01,2024-12-31",
									"description": "Rango de fechas en formato: fechaInicio,fechaFin (yyyy-MM-dd)"
								},
								{
									"key": "clienteId",
									"value": "1",
									"description": "ID del cliente (String)"
								}
							]
						},
						"description": "Genera un reporte de estado de cuenta para un cliente en un rango de fechas específico. Incluye todas las cuentas del cliente con sus movimientos, saldos y totales."
					},
					"response": []
				},
				{
					"name": "Generar Reporte - Mes Actual",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8081/reportes?fecha=2024-11-01,2024-11-30&clienteId=1",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8081",
							"path": [
								"reportes"
							],
							"query": [
								{
									"key": "fecha",
									"value": "2024-11-01,2024-11-30"
								},
								{
									"key": "clienteId",
									"value": "1"
								}
							]
						},
						"description": "Ejemplo de reporte para el mes de noviembre 2024"
					},
					"response": []
				}
			]
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8081",
			"type": "string"
		}
	]
}

